

Literature Review - Short Term TODO:

Got here from: "Real time finite element structural analysis in augmented reality"
    Look at papers which it cites:
        "A Responsive Finite Element Method to Aid Interactive Geometric Modeling"
        "Applying virtual reality techniques to the interactive stress analysis of a tractor arm"
        "Analyses using VR/AR Visualization"
        "Augmented reality for urban simulation visualization"
        "Augmented reality sandbox"

Got here from: Unknown
    Look at: 
        "MODELING OF RESIDUAL STRESS AND MACHINING DISTORTION IN AEROSPACE COMPONENTS (PREPRINT)" - Air Force Research Laboratory
        "Residual stress and distortion modeling on aeronautical aluminum alloy parts for machining sequence optimization"
        "A New Method for Inferencing and Representing a Workpiece Residual Stress Field Using Monitored Deformation Force Data"
        "Simulation-Based Investigation of the Distortion of Milled Thin-Walled Aluminum Structural Parts Due to Residual Stresses"
        "Influence of the machining sequence on the residual stress redistribution and machining quality: analysis and improvement using numerical simulations" 
        "Effects of cut depth on the redistribution of residual stress and deformation during the milling of thin-walled part."
        "Modelling of part distortion due to residual stresses relaxation: An aeronautical case study"

Got here from: "A novel in-process machining deformation perception and control method."
    Look at papers that it cites:
        "A method to minimize the workpiece deformation using a concept of intelligent fixture"
        "Effects of depth of cut on the redistribution of residual ...."
        "An adaptive machining approach based on in-process inspection of interim machining states for large-scaled and thin-walled complex parts"

Got here from: "Methodology for aluminium part machining quality improvement considering mechanical properties and process conditions"
    Look at papers that it cites:
        "Prediction of machining quality due to the initial residual stress redistribution of aerospace structural parts made of low-density aluminium alloy rolled plates"
    Look at papers which cite it:
        "Digital twin of forged part to reduce distortion in machining"
        "Energy principle and material removal sequence optimization method in machining of aircraft monolithic parts"

Got here from: "Prediction and control of residual stress-based distortions in the machining of aerospace parts"
    Look at the cited papers:
        "Effects of toolpath and clamping strategies in machining distortion of stainless-steel parts"
        "A novel in-process machining deformation perception and control method" 
        "Machining Distortion of Titanium Alloys Aero Engine Case Based on the Energy Principles"
        "Thin-Wall Machining of Light Alloys: A Review of Models and Industrial Approaches"

Got here from: "Parallel finite element tool to predict distortion..."
    Look at the cited papers:
        "Finite element method based machining simulation environment for analyzing part errors during milling of thin-walled components"
        "A new approach for FEM simulation of NC Machining processes"

Got here from: "Geometric distortion analysis using a combination of the contour method and machining simulation"
    Look at the papers:
        "Arbitrary discontinuities in finite elements"
        "Geometric distortion analysis using CAD/CAM based manufacturing simulation"

Got here from: "An approach to predict the distortion of thin-walled parts affected by residual stress during..."
    Look at the papers:
        "Error compensation strategy in milling flexible thin-wall parts"


Literature Review - Long Term TODO:
        
Confirm that the "The finite cell method for the prediction of machining distortion cuased by initial residual stresses in milling"
    is flawed in the way that I think it is.



Recovering Residual Stress - Short Term TODO:

1) Get symmetric difference-based gradient descent up and running.

2) Fix the traction vector application routine so that it is capable of applying
       traction to many faces which may exist on a trench. 



Simulating Material Removal - Short Term TODO:

1) Add C++ support for defining some simple stress profiles.
   As part of this, account for the case when the user specifies a stress profile
      which is far from equilibrium. 



General - Short Term TODO:

-1) Follow up re: AdvantEdge, Forge, email to X. Cerutti and K. Mocellin, Manufacturing Automation Laboratories, MORFEO

0) Use Abaqus' solver only. Don't use Abaqus' preprocessor at all!

1) Implement checkpointing to save time debugging.

2) Write general testing framework for whole system. It should generate, or
       source, random blank geometries, random tool pass geometries, and random
       full-field stress estimates. Using these things, a whole flow can be
       simulated.



General - Long Term TODO:

Code Organization / Structure / Documentation TODO:

    *** MINGLING STRESS EQUILIBRATION AND MACHINING PROCEDURES ***
    It also feels brittle to intermingle the stress equilibration and the machining
      procedures. That is, material removal is really unrelated to a sometimes
      necessary stress equilibration step. Stress equilibration is sometimes necessary
      because the way that a stress field is represented doesn't exactly match
      reality. Material removal is a fundamental procedure which is required during
      the machining process.

    *** OPENING AND CLOSING MDB ***
    Use cleaner technique to deal with opening and closing an mdb. Figure out how to
      deal with exceptional conditions when an MDB is open and needs to be closed.
      Using a "with" statement might be very useful to do this.

    *** WRITE UP ALTERANTIVE TECHNIQUE FOR MATERIAL REMOVAL ***
    Rule out and write up alternative technique for material removal using the
        additive manufacturing stuff in Abaqus.
    
    *** DOCUMENTATION UPDATE ***
    Update the README and add a diagram documenting the metadata / naming data
        flow.
    Also, add diagram documenting the possible all in simulation flow vs. in real
        life flow.
    
    *** MYPY ISSUE WITH NONE ***
    Fix the mypy " | None" issue that is causing it to generate lots of false-
        positives.

    *** CONSISTENT USE OF EXCEPTIONS VS ASSERTIONS ***
    The codebase is currently inconsistent in its use of exceptions vs assertions.
        I currently think that an exception should be raised when an exceptional
        circumstance, outside of the control of the executing program, occurs and
        can be recovered from. An assert should be used to detect a programming 
        error. Note that asserts can be removed at runtime. The tricky thing is
        that, if the library caller makes a programming error, I think the library
        should raise an exception??


Adding/Modifying Features TODO:

    *** TOOL PATH AND PART GEOMETRY DONT INTERSECT ***
    Deal with possibility that a tool path doesn't intersect the part geometry. If this
      is the case, the PartFromBooleanCut() method will throw an exception.

    *** MAPPING ORPHAN MESH TO GEOEMTRY ***
    There is an awful lot of runtime spent mapping an orphan mesh to a new geometry.
      If we could instead chain simulations together within a single model, this could
      be avoided. To do this, it's necessary to somehow delete part regions/elements
      which live a prespecified locations in space across different steps in a simulation.
      For example, in step 1 we would want the elements that live in a particular
      region of space to be deactivated, some deformation would occur, in step 2 we 
      would want the elements that live in some other region of space to be deactivated,
      etc. 
    Potential element deletion techniques: 
        1) Contact interaction / damage model. 
        2) Simulation restart with new model change.
        3) Abaqus' Additive Manufacturing Process Simulation toolset (See Analysis 
           > Analysis Techniques > Additive Manufacturing Process Simulation, also 
           see User Subroutines > Toolpath-Mesh Intersection Utility Routines, and 
           see Analysis > Analysis Techniques > Special Purpose Techniques > Progressive 
           Element Activation. The most promising approach embedded in all of this 
           is to use Progressive Element Activation to do element DEactivation at 
           across multiple steps. We could define all elements in an initial mesh 
           as eligible for element deactivation and then, in the user subroutine 
           UEPACTIVATIONVOL, find all the elements in a particular tool path (this 
           might involve querying all elements), and setting their material volume
           fractions to 0). 
        4) Approximating element removal by making the element elasticity modulus 
           very small (this was Jan's suggestion, it doesn't fully make sense to me).
    Also might be possible to speed things up by using my current approach but
      doing things outside of Abaqus.

    *** IMPROVING FACE PARTITIONING ROBUSTNESS ***
    Make the partition_face() function more robust. In particular, the find_face_ngon_lives_on()
       assumes that the user doesn't make some mistake and specify an ngon that
       doesn't actually live on any face! This needs to be done to make surface
       boundary conditions more robust.

    *** WORKAROUND FOR INTERACTIVE MODE ***
    Figure out a workaround so we don't have to run Abaqus in interactive mode.

    *** SUPPORTING QUADRATIC SPLINES ***
    Can we support quadratic splines for toolpaths? 

    *** SUPPORTING ALTERNATIVE TOOL PASS ORIENTATIONS AND VARIETIES ***
    Can we support non-canonical tool pass orientations? 
    Can we support non-planar tool passes? Do we even want to?

    *** VIRTUAL TOPOLOGY ASSUMPTIONS ***
    If we allow a virtual topology to be created that causes faces to be merged,
       does this cause us to lose the geometric fidelity? How does the underlying
       representation of the part change when we do this?
